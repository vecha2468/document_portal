(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{4015:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),r=s(2115),n=s(5695);async function o(e){let{username:t,password:s}=e,a=await fetch("".concat("http://127.0.0.1:8000","/api/users/login/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:s})}),r=await a.json();if(!a.ok)throw Error(r.detail||"Login failed");return r}function l(){let[e,t]=(0,r.useState)({username:"",password:""}),s=(0,n.useRouter)(),l=async t=>{t.preventDefault();try{let t=await o(e);localStorage.setItem("access",t.access),localStorage.setItem("refresh",t.refresh),s.push("/dashboard")}catch(e){alert(e.message)}};return(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-20 space-y-4",children:[(0,a.jsx)("button",{type:"button",className:"mb-4 text-blue-600 hover:underline text-sm",onClick:()=>s.push("/"),children:"← Back to Home"}),(0,a.jsxs)("form",{onSubmit:l,className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Login"}),(0,a.jsx)("input",{className:"w-full p-2 border",placeholder:"Username",onChange:s=>t({...e,username:s.target.value}),required:!0}),(0,a.jsx)("input",{className:"w-full p-2 border",placeholder:"Password",type:"password",onChange:s=>t({...e,password:s.target.value}),required:!0}),(0,a.jsx)("button",{className:"bg-green-600 text-white px-4 py-2 rounded",type:"submit",children:"Login"})]}),(0,a.jsxs)("div",{className:"text-center mt-2",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Don't have an account? "}),(0,a.jsx)("button",{type:"button",className:"text-blue-600 hover:underline",onClick:()=>s.push("/signup"),children:"Sign Up"})]})]})}},5516:(e,t,s)=>{Promise.resolve().then(s.bind(s,4015))},5695:(e,t,s)=>{"use strict";var a=s(8999);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(5516)),_N_E=e.O()}]);